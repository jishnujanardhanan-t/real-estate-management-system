<template>
    <lightning-card title="Properties" icon-name="standard:account">
        <!-- Filters -->
        <div class="slds-grid slds-gutters slds-m-bottom_small">
            <div class="slds-col">
                <lightning-combobox
                    name="statusFilter"
                    label="Status"
                    value={statusFilter}
                    placeholder="Select Status"
                    options={statusOptions}
                    onchange={handleStatusChange}>
                </lightning-combobox>
            </div>
            <div class="slds-col">
                <lightning-combobox
                    name="typeFilter"
                    label="Property Type"
                    value={typeFilter}
                    placeholder="Select Type"
                    options={typeOptions}
                    onchange={handleTypeChange}>
                </lightning-combobox>
            </div>
            <div class="slds-col">
                <lightning-input
                    type="number"
                    label="Min Price"
                    value={minPrice}
                    onchange={handleMinPriceChange}>
                </lightning-input>
            </div>
            <div class="slds-col">
                <lightning-input
                    type="number"
                    label="Max Price"
                    value={maxPrice}
                    onchange={handleMaxPriceChange}>
                </lightning-input>
            </div>
        </div>

        <!-- Property Table -->
        <template if:true={properties}>
            <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Address</th>
                        <th>Area (sq ft)</th>
                        <th>Listed Date</th>
                        <th>Price</th>
                        <th>Seller</th>
                        <th>Status</th>
                        <th>Total Visits</th>
                        <th>Property Type</th>
                    </tr>
                </thead>
                <tbody>
                    <template for:each={properties} for:item="prop">
                        <tr key={prop.Id}>
                            <td>{prop.Name}</td>
                            <td>{prop.Address__c}</td>
                            <td>{prop.Area_sq_ft__c}</td>
                            <td>{prop.Listed_Date__c}</td>
                            <td>{prop.Price__c}</td>
                            <td>{prop.Seller__r.Name}</td>
                            <td>{prop.Status__c}</td>
                            <td>{prop.Total_Visits__c}</td>
                            <td>{prop.Property_Type__c}</td>
                        </tr>
                    </template>
                </tbody>
            </table>
        </template>

        <template if:true={error}>
            <div class="slds-text-color_error">{error}</div>
        </template>
    </lightning-card>
</template>